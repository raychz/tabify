<ion-header no-border>
  <ion-toolbar class="transparent-toolbar">
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col text-center>
        <h2>Welcome Back ðŸ‘‹</h2>
        <span>Login below to get started</span>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-header>
            Recommended
          </ion-card-header>
          <ion-card-content>
            <ion-button color="tabify" (click)="loginWithFacebook()" block>
              <ion-icon name="logo-facebook"></ion-icon>
              Login With Facebook
            </ion-button>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-header id="form-card-header">
            Or Connect with email
          </ion-card-header>
          <ion-card-content>
            <form (ngSubmit)="login()" [formGroup]="loginForm">
              <ion-list inset>
                <ion-item [ngClass]="{
                          invalid: emailErrors.hasError('*', ['touched', 'dirty'])
                        }">
                  <ion-label position="floating">*Email</ion-label>
                  <ion-input (input)="inputChange()" type="text" formControlName="email">
                  </ion-input>
                </ion-item>
                <div ngxErrors="email" #emailErrors="ngxErrors" [class.errors]="emailErrors.hasErrors">
                  <div [ngxError]="['email', 'required']" [when]="['dirty']">
                    Enter a valid email
                  </div>
                </div>
                <ion-item [ngClass]="{
                          invalid: passwordErrors.hasError('*', ['touched', 'dirty'])
                        }">
                  <ion-label position="floating">*Password</ion-label>
                  <ion-input type="password" formControlName="password"></ion-input>
                </ion-item>
                <div ngxErrors="password" #passwordErrors="ngxErrors" [class.errors]="passwordErrors.hasErrors">
                  <div [ngxError]="['minlength', 'required']" [when]="['dirty']">
                    Password must have at least 6 characters
                  </div>
                  <div [ngxError]="['pattern']" [when]="['dirty']">
                    Password must not contain spaces
                  </div>
                </div>
              </ion-list>

              <div>
                <div class="errors">{{ loginError }}</div>
                <ion-button id="login-with-email" block type="submit" [disabled]="!loginForm.valid">
                  Login With Email
                </ion-button>
                <ion-button block clear color="tabify-alt" (click)="forgotPassword()">
                  Forgot Password?
                </ion-button>
                <p class="muted">* indicates required field</p>
              </div>
            </form>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center>
        <ion-button color="tabify-alt" (click)="signUp()" clear>
          New User?<span class="sign-up-text">Sign Up.</span>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
